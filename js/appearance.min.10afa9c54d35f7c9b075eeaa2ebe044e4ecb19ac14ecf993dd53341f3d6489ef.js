const sitePreference=document.documentElement.getAttribute("data-default-appearance"),userPreference=localStorage.getItem("appearance");function getCSSValue(e){var t=window.getComputedStyle(document.documentElement).getPropertyValue(e);return"rgb("+t.replace(/\s+/g,"")+")"}function saveUnsaveTheme(e){e==null||e===""?localStorage.removeItem("appearance"):localStorage.setItem("appearance",e)}function setThemeDataAttrib(e){var t=document.documentElement;t.setAttribute("data-theme",e)}function isDarkTheme(){var t=document.documentElement,e=t.getAttribute("data-theme");return e!=null&&e!==""&&!!e.endsWith("dark")&&(console.log("Is Dark"),!0)}function setThemeColor(){var e=document.querySelector("meta[name=theme-color]");return isDarkTheme()?e.setAttribute("content",getCSSValue("--p")):e.setAttribute("content",getCSSValue("--p")),!0}sitePreference==="dark"&&userPreference===null||userPreference==="dark"?(setThemeDataAttrib("dark"),setThemeColor()):(setThemeDataAttrib(userPreference),setThemeColor()),document.documentElement.getAttribute("data-auto-appearance")==="true"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&userPreference==="dark"&&(setThemeDataAttrib("dark"),setThemeColor()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{setThemeDataAttrib(e.matches?"dark":localStorage.getItem("appearance")),setThemeColor()})),window.addEventListener("DOMContentLoaded",e=>{var t,n=document.querySelectorAll("[id^='appearance-switcher']");n.forEach(e=>{e.addEventListener("click",()=>{document.documentElement.classList.toggle("dark"),setThemeColor(),localStorage.setItem("appearance",isDarkTheme()?"dark":"light")}),e.addEventListener("contextmenu",e=>{e.preventDefault(),localStorage.removeItem("appearance")})}),t=document.querySelectorAll("input[name=theme-dropdown]"),t.forEach(e=>{e.addEventListener("click",()=>{var t=e.value;saveUnsaveTheme(t),setThemeDataAttrib(t),setThemeColor()})})})